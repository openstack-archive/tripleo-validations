---
metadata:
  name: Verify undercloud proxy configuration
  description: >
    Check undercloud proxy configuration before a stack update - especially minor update and major upgrade.
  groups:
    - post-upgrade
    - pre-upgrade
  vars:
    HTTP_PROXY: "{{ lookup('ansible.builtin.env', 'HTTP_PROXY', default=undef()) }}"
    HTTPS_PROXY: "{{ lookup('ansible.builtin.env', 'HTTPS_PROXY', default=undef()) }}"
    NO_PROXY: "{{ lookup('ansible.builtin.env', 'NO_PROXY', default=undef()) }}"
    http_proxy: "{{ lookup('ansible.builtin.env', 'http_proxy', default=undef()) }}"
    https_proxy: "{{ lookup('ansible.builtin.env', 'https_proxy', default=undef()) }}"
    no_proxy: "{{ lookup('ansible.builtin.env', 'no_proxy', default=undef()) }}"
