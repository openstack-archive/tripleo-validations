- project:
    templates:
    - tripleo-multinode-container-minimal-pipeline
    - openstack-python3-train-jobs
    - tripleo-validations-molecule-jobs
    - check-requirements
    - release-notes-jobs-python3
    check:
      jobs:
      - openstack-tox-linters
      - tripleo-ci-centos-8-content-provider:
          dependencies:
            - openstack-tox-linters
      - openstack-tox-docs: &tripleo-docs
          files:
          - ^doc/.*
          - ^README.rst
      - tripleo-ci-centos-8-scenario004-standalone: &scenario004
          vars:
            consumer_job: true
            build_container_images: false
            tags:
              - standalone
          dependencies:
            - tripleo-ci-centos-8-content-provider
          files:
            - ^roles/ceph.*$
    gate:
      jobs:
      - openstack-tox-linters
      - tripleo-ci-centos-8-content-provider
      - openstack-tox-docs: *tripleo-docs
      - tripleo-ci-centos-8-scenario004-standalone: *scenario004
    promote:
      jobs:
      - promote-openstack-tox-docs: *tripleo-docs
