---
- hosts:
    - "{{ controller_rolename | default('Controller') }}"
    - mysql
  vars:
    metadata:
      name: MySQL Open Files Limit
      description: |
        Verify the `open-files-limit` configuration is high enough

        https://access.redhat.com/solutions/1598733
      groups:
        - post-deployment
      categories:
        - database
        - overcloud
        - controller
      products:
        - tripleo
        - mysql
        - galera
    min_open_files_limit: 16384
  roles:
    - mysql_open_files_limit
