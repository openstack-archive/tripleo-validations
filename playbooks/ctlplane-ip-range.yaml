---
- hosts: undercloud
  vars:
    metadata:
      name: Check the number of IP addresses available for the overcloud nodes
      description: |
        Verify that the number of IP addresses defined in `dhcp_start` and
        `dhcp_end` fields in `undercloud.conf` is not too low.
      groups:
        - pre-introspection
      categories:
        - networking
        - dhcp
        - undercloud
      products:
        - tripleo
    ctlplane_iprange_min_size: 20
  roles:
    - ctlplane_ip_range
